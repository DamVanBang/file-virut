var test = require('tap').test;
var _ = require('underscore');
var Page = require('../lib/page');

test('Page.init', function (t) {
    var init = function () {},
        template = function () {},
        page = new Page({
            url: '/page_url/',
            init: init,
            template: template
        });
    t.equal(page.url, '/page_url/');
    t.equal(page.init, init);
    t.equal(page.template, template);
    t.end();
});

test('Page.loadFromDir', function (t) {
    var page = new Page({ dir: __dirname + '/page' });
    page.render({name: 'NAME'}, {}, function (content) {
        t.equal(content, 'BEGIN HELLONAME END');
        t.end();
    });
});